<Project>

	<!-- Version Properties Validation -->
	<Target Name="VersionPropertiesValidation" BeforeTargets="Build">
		<Error Condition="$(Version)==''" Text="Property 'Version' is not set." />
		<Error Condition="$(BuildNumber)==''" Text="Property 'BuildNumber' is not set." />
		<Error Condition="$(BuildNumberForced)==''" Text="Property 'BuildNumberForced' is not set." />
		<Error Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch('$(Version)', '^\d+\.\d+\.\d+(-[0-9A-Za-z\-\.]+)?$'))" Text="Property 'Version' must follow 'major.minor.patch' and may include an optional suffix (e.g. 1.2.3 or 1.2.3-alpha). Current value: '$(Version)'" />
		<Error Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch('$(BuildNumber)', '^\d+$'))" Text="Property 'BuildNumber' must be an integer. Current value: '$(BuildNumber)'" />
		<Error Condition="!$([System.Text.RegularExpressions.Regex]::IsMatch('$(BuildNumberForced)', '^\d+$'))" Text="Property 'BuildNumberForced' must be an integer. Current value: '$(BuildNumberForced)'" />
	</Target>

</Project>